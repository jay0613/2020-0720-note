<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/system.js"></script>
</head>
<body>
    <div id="sttip"></div>
    <div class="con">
         <div class="cleft">
             <div class="send">
                 <div class="stitle">
                    <input type="text" id="title"> &nbsp;文章标题
                 </div>
                 <div class="scon">
                    <textarea id="txt" cols="30" rows="10"></textarea>
                 </div>
                 <div class="sbtn">
                     <button id="send">发表</button>
                 </div>        
             </div>
         </div>
         <div class="cright">
            <h3>特别推荐</h3>
            <div class="line"></div>
         </div>
    </div>
    <script>
        //调用导航栏模板，追加到页面中
        $("body").prepend($(index.nav.html(7)));
        //调用模板，追加提示信息到页面中
        $("#sttip").append($(index.list.html('文章列表2', '不要轻易放弃，学习成长的路上，我们长路漫漫，只因学无止境。')));
        //绑定提交按钮的单击事件
        $("#send").on("click",function(){
           var $title=$("#title")
           var $txt=$("#txt");
           if($title.val()!==""&&$txt.val()!=""){
               //console.log("ok");
               var _key="blog"+index.send.random(4);
               //先定义一个对象
               var obj=new Object();
               //将两项数据的值作为属性赋值给对象
               obj.title=$title.val();
               obj.txt=$txt.val();
               //将对象转成字符
               var _v=JSON.stringify(obj);
               //保存数据
               localStorage.setItem(_key,_v)
               //提示信息
               alert("保存成功！");
               //跳转到列表页中
               location.href="list.html"
           }  
        })
    </script>
</body>
</html>